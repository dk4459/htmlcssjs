<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
  <title>exe2.html 작성.</title>
</head>
<style>
  body{
    width: 600px;
    text-align: center;
    border: 1px solid #ccc;
    padding: 40px;
  }
  table{
    width: 200px;
    margin: 0 auto;
  }
  table, td, th{
    border: 1px solid #ccc;
    border-collapse : collapse;
  }
  button{
    height: 40px;
    margin-top: 10px;
    margin-bottom: 10px;
  }
  
</style>
<body>
  이름: <input type="text" name= 'friend'>
  점수: <input type="number" name= 'score' value="80">
   <button name = "add" class="btn btn-primary">친구추가</button>
   <button name="remove" class="brn btn-danger">친구삭제</button>
  <table>
    <thead>
      <tr>
        <th>이름</th>
        <th>점수</th>
      </tr>
    </thead>
    <tbody id="list"></tbody>
  </table>
  <script>
    let friendAry = [ {name:'정명한', score:80},
                      {name:'김지수', score:70},
                      {name:'고영서', score:85},
                      {name:'이민영', score:75},
                      {name:'정은애', score:90}];
    let targetItem = document.querySelector('#list');//tbody
    function makeList(){
    let html = ''
    friendAry.forEach(function(item,idx,ary){
      html +=`<tr>
              <td>${item.name}</td>
              <td>${item.score}</td>
              </tr>`
      targetItem.innerHTML = html;
    });
  }
  let btn = document.querySelector('button[name="add"]');
  let removeBtn = document.querySelector('button[name="remove"]');
  btn.addEventListener('click',function(){
    let val = document.querySelector('input[name="friend"]').value
    let sco = document.querySelector('input[name="score"]').value
    friendAry.push({name:val,score:sco});
    makeList();
    document.querySelector('input[name="friend"]').value=''
  })

  removeBtn.addEventListener('click',()=>{
    let val = document.querySelector('input[name="friend"]').value;
    // friendAry= friendAry.filter((item) => {
    //  return item.name == val ? false: true;
    // })
    let array = friendAry.findIndex((item)=> item.name === val);
    console.log(array)
    if(array==-1){
      alert('찾는사람이 없습니다.')
      return;
    }
    friendAry.splice(array,1);
    makeList();
  })
  
  makeList();
  </script>
</body>

</html>